/* =================================================================
   BASE DE DISEÑO V11.2 - CON CORRECCIÓN FINAL DE MODAL
   ================================================================= */

@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');

:root {
    --color-primary: #009dff;
    --color-primary-hover: #0087db;
    --color-dark-bg: #1d2533;
    --color-surface: #f4f5f7;
    --color-text-primary: #f2f4f8;
    --color-text-dark: #1c1e21;
    --color-text-secondary: #c0c6d0;
    --color-text-secondary-dark: #5a5f66;
    --color-border: #3d4657;
    --color-border-light: #d1d5db;
    --color-body-bg: #202737;
    --font-main: 'Poppins', sans-serif;
    --shadow-glow: 0 0 20px rgba(0, 157, 255, 0.25);
    --border-radius: 16px;
}

body { 
    background-color: var(--color-body-bg); 
    color: var(--color-text-primary); 
    font-family: var(--font-main); 
}

main { position: relative; z-index: 1; }

/* --- Header --- */
.header-main { background-color: var(--color-dark-bg); border-bottom: 1px solid var(--color-border); padding: 0.75rem 0; }
.header-main .container { display: grid; grid-template-columns: auto 1fr auto; gap: 1.5rem; align-items: center; }
.brand-logo { font-weight: 700; color: var(--color-text-primary) !important; }
.search-bar { background-color: #2c3344; border: 1px solid var(--color-border); border-radius: 50rem; padding: 0.25rem; transition: all 0.3s ease; }
.search-bar:focus-within { box-shadow: var(--shadow-glow); border-color: var(--color-primary); }
.search-bar .form-control { background: transparent; border: none; color: var(--color-text-primary); box-shadow: none; }
.search-bar .form-control::placeholder { color: var(--color-text-secondary); }
.search-bar .btn { background-color: var(--color-primary); border-radius: 50%; width: 38px; height: 38px; display: flex; align-items: center; justify-content: center; }
.header-actions .nav-link { color: var(--color-text-secondary); font-size: 1.5rem; }
.header-actions .nav-link:hover { color: var(--color-text-primary); }
.header-actions .badge { background-color: var(--color-primary); border: 2px solid var(--color-dark-bg); }
.header-categories { background-color: rgba(29, 37, 51, 0.8); backdrop-filter: blur(10px); }
.category-nav-link { color: var(--color-text-secondary); font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px; font-size: 0.8rem; padding: 1rem; border-bottom: 2px solid transparent; transition: all 0.2s ease; }
.category-nav-link:hover, .category-nav-link.active { color: var(--color-text-primary); border-bottom-color: var(--color-primary); }
.category-nav-link.offers { color: var(--color-primary); font-weight: 700; }
.dropdown-menu-dark .dropdown-item:hover { background-color: var(--color-primary) !important; }

/* --- Carrusel --- */
.hero-carousel { border-radius: 24px; overflow: hidden; position: relative; }
.hero-carousel::before { content: ''; position: absolute; bottom: 0; left: 0; right: 0; height: 60%; background: linear-gradient(to top, rgba(0,0,0,0.6) 0%, transparent 100%); z-index: 2; }
.hero-carousel .carousel-item { height: 60vh; min-height: 450px; }
.hero-carousel .carousel-item img { object-fit: cover; height: 100%; width: 100%; }
.hero-carousel .carousel-caption { z-index: 3; text-shadow: 0 2px 4px rgba(0,0,0,0.6); text-align: left; bottom: 10%; left: 8%; right: 8%; }
.hero-carousel .display-2 { font-weight: 700; }
.section-title { font-size: 2.5rem; font-weight: 700; color: var(--color-text-primary); }

/* --- Tarjetas de Producto --- */
.product-card { background-color: var(--color-surface); border: 1px solid var(--color-border-light); border-radius: var(--border-radius); transition: transform 0.3s ease, box-shadow 0.3s ease; }
.product-card:hover { transform: translateY(-8px); box-shadow: 0 10px 30px rgba(0,0,0,0.15), 0 0 20px rgba(0, 157, 255, 0.1); }
.product-card .card-img-container { padding: 1.5rem; }
.product-card .card-body { padding: 0 1.5rem 1.5rem 1.5rem; flex-grow: 1; display: flex; flex-direction: column; }
.product-card .card-title a { font-weight: 600; color: var(--color-text-dark) !important; text-decoration: none; }
.product-card .card-text { color: var(--color-text-secondary-dark) !important; font-size: 0.85rem; }
.product-card .card-price { font-size: 1.2rem; font-weight: 500; color: var(--color-text-dark) !important; }
.product-card .action-buttons { display: flex; gap: 0.5rem; align-items: center; }
.product-card .add-to-cart-btn, .product-card .buy-now-btn { border-radius: 50%; width: 40px; height: 40px; display: inline-flex; align-items: center; justify-content: center; padding: 0; transition: transform 0.2s ease; }
.product-card .add-to-cart-btn { background-color: var(--color-primary); color: white; border: none; }
.product-card .buy-now-btn { background-color: transparent; border: 1px solid var(--color-border-light); color: var(--color-text-dark); }
.product-card .buy-now-btn:hover { background-color: #e9ecef; }
.product-card .add-to-cart-btn:hover { transform: scale(1.1); }

/* --- Página Detalle de Producto y Footer --- */
.product-detail-card { background-color: var(--color-surface); border: 1px solid var(--color-border); }
.footer { background-color: var(--color-dark-bg); color: var(--color-text-secondary); }
.admin-header, .admin-card, .form-view-container { background-color: var(--color-surface) !important; border: 1px solid var(--color-border-light) !important; border-radius: var(--border-radius); box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
.admin-card { transition: transform 0.3s ease, box-shadow 0.3s ease; }
.admin-card:hover { transform: translateY(-5px); box-shadow: 0 8px 25px rgba(0,0,0,0.1); }
.admin-header h1, .admin-card .card-title, .form-view-container h3, .form-view-container h5 { color: var(--color-text-dark) !important; }
.admin-header p, .admin-card .card-text { color: var(--color-text-secondary-dark) !important; }
.form-view-container .form-label { color: var(--color-text-secondary-dark); }
.form-view-container .form-control, .form-view-container .form-select { background-color: #f8f9fa; border-color: var(--color-border-light); color: var(--color-text-dark); }
.form-view-container .form-control:focus, .form-view-container .form-select:focus { background-color: var(--color-surface); border-color: var(--color-primary); color: var(--color-text-dark); }
.form-view-container .form-check-label { color: var(--color-text-dark); }
.form-view-container hr { border-color: var(--color-border-light); }

/* --- Tablas Admin --- */
.table-admin { background-color: transparent; color: var(--color-text-primary); }
.table-admin thead th { background-color: var(--color-dark-bg); color: var(--color-text-secondary); border-bottom: 2px solid var(--color-primary); }
.table-admin tbody tr:hover { background-color: #323a4c; }
.table-admin td, .table-admin th { border-color: var(--color-border) !important; }
.table-admin .form-control { background-color: #262d3d; color: var(--color-text-primary); border-color: var(--color-border); }
.table-admin .form-control:focus { background-color: #262d3d; color: var(--color-text-primary); border-color: var(--color-primary); }

/* =================================================================
   BLOQUE AÑADIDO: Corrección de Estilos para el Modal del Carrito
   ================================================================= */
.modal-content {
    background-color: var(--color-dark-bg);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius);
}
.modal-header, .modal-footer {
    border-color: var(--color-border);
}
.modal-header .btn-close {
    filter: invert(1) grayscale(100%) brightness(200%);
}
.modal-body .table {
    color: var(--color-text-primary);
}
.modal-body .table thead th {
    color: var(--color-text-secondary);
}